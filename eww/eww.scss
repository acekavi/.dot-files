// ===================================================================
// EWW STATUS BAR STYLING - DRACULA THEME
// Following official eww documentation: https://elkowar.github.io/eww/configuration.html
//
// IMPORTANT: eww uses GTK's CSS engine with limitations:
// - No flexbox, float, or absolute positioning
// - Width/height properties are limited - use padding/margin instead
// - Some animations not supported - prefer opacity/color transitions
// ===================================================================

// Dracula Theme Colors
$bg: #282a36;
$bg-alt: #44475a;
$fg: #f8f8f2;
$comment: #6272a4;
$cyan: #8be9fd;
$green: #50fa7b;
$orange: #ffb86c;
$pink: #ff79c6;
$purple: #bd93f9;
$red: #ff5555;
$yellow: #f1fa8c;

// Typography
$font-family: "JetBrains Mono Nerd Font", "Noto Sans", sans-serif;
$font-size: 12px;
$font-weight: 500;

// Animations
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-right {
  from { opacity: 0; }
  to { opacity: 1; }
}

// Global Styles
* {
  all: unset;
  font-family: $font-family;
  font-size: $font-size;
  font-weight: $font-weight;
}

// Main Bar
.bar {
  background-color: $bg;
  color: $fg;
  border-bottom: 2px solid $purple;
  min-height: 30px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

// Separator - Using GTK-compatible properties only
// Reference: https://elkowar.github.io/eww/configuration.html
.separator {
  background-color: $comment;
  opacity: 0.2;
  margin: 0 16px;
  border-radius: 2px;
  padding: 8px 1px;  /* Use padding to create visual size */
}

// Left Section
.left {
  margin-left: 16px;
}

.launcher {
  padding: 4px 10px;
  border-radius: 8px;
  transition: all 0.2s ease;
  opacity: 0.8;
  margin: 4px 0;
  
  &:hover {
    background-color: rgba(189, 147, 249, 0.1);
    opacity: 1;
  }
  
  image {
    transition: all 0.2s ease;
  }
}

.workspace {
  background-color: transparent;
  color: $comment;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  transition: all 0.2s ease;
  opacity: 0.6;
  min-width: 24px;
  
  &:hover {
    background-color: rgba(98, 114, 164, 0.1);
    color: $fg;
    opacity: 0.9;
  }
  
  &.focused {
    background-color: rgba(189, 147, 249, 0.15);
    color: $purple;
    opacity: 1;
    font-weight: 600;
  }
  
  &.visible {
    color: $cyan;
    opacity: 0.8;
  }
  
  &.urgent {
    color: $red;
    opacity: 1;
    animation: fade-in 0.5s ease;
  }
  
  &.empty {
    opacity: 0.3;
  }
}

// Center Section - Minimal Style
.center {
  margin: 0 20px;
}

.clock {
  padding: 4px 8px;
  transition: all 0.2s ease;
}

.time {
  color: $cyan;
  font-size: 14px;
  transition: all 0.2s ease;
  font-weight: 600;
}

.date {
  color: $comment;
  font-size: 10px;
  font-weight: 400;
  opacity: 0.7;
  transition: all 0.2s ease;
}

.system-tray {
  margin: 0 16px;
}

// Battery - Minimal Style
.battery {
  padding: 8px 12px;
  transition: all 0.2s ease;
}

.battery-icon {
  color: $green;
  font-size: 16px;
  margin-right: 4px;
  transition: all 0.2s ease;
}

.battery-percent {
  color: $comment;
  font-size: 11px;
  font-weight: 500;
  opacity: 0.8;
  transition: all 0.2s ease;
}


// WiFi - Minimal Style
.wifi {
  padding: 8px 12px;
  transition: all 0.2s ease;
  
  &:hover {
    background-color: rgba(139, 233, 253, 0.1);
    border-radius: 8px;
  }
}

.wifi-icon {
  color: $cyan;
  font-size: 16px;
  margin-right: 4px;
  transition: all 0.2s ease;
}

.wifi-ssid {
  color: $comment;
  font-size: 11px;
  font-weight: 500;
  opacity: 0.8;
  transition: all 0.2s ease;
}

.wifi:hover .wifi-ssid {
  color: $cyan;
  opacity: 1;
}

// Bluetooth - Minimal Style
.bluetooth {
  padding: 8px 12px;
  transition: all 0.2s ease;
  
  &:hover {
    background-color: rgba(189, 147, 249, 0.1);
    border-radius: 8px;
  }
}

.bluetooth-icon {
  color: $purple;
  font-size: 16px;
  transition: all 0.2s ease;
  opacity: 0.8;
}

.bluetooth:hover .bluetooth-icon {
  opacity: 1;
}

.power-button {
  color: $comment;
  padding: 4px 12px;
  border-radius: 6px;
  font-size: 14px;
  transition: all 0.2s ease;
  opacity: 0.7;
  margin: 4px 0;
  
  &:hover {
    background-color: rgba(255, 85, 85, 0.1);
    color: $red;
    opacity: 1;
  }
}

.power-options {
  margin: 5px;
  background-color: rgba(68, 71, 90, 0.8);
  border-radius: 8px;
  border: 1px solid rgba(98, 114, 164, 0.3);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
  animation: fade-in 0.2s ease;
}

.power-option {
  padding: 8px;
  border-radius: 6px;
  font-size: 14px;
  transition: all 0.2s ease;
  opacity: 0.7;
  
  &:hover {
    opacity: 1;
    border-radius: 6px;
  }
  
  &.lock {
    color: $yellow;
    &:hover {
      background-color: rgba(241, 250, 140, 0.1);
    }
  }
  
  &.sleep {
    color: $cyan;
    &:hover {
      background-color: rgba(139, 233, 253, 0.1);
    }
  }
  
  &.restart {
    color: $orange;
    &:hover {
      background-color: rgba(255, 184, 108, 0.1);
    }
  }
  
  &.shutdown {
    color: $red;
    &:hover {
      background-color: rgba(255, 85, 85, 0.1);
    }
  }
}

// Confirmation Dialog (Dracula themed)
.confirm-dialog {
  background-color: $bg-alt;
  color: $fg;
  border-radius: 10px;
  padding: 22px 24px; // extra spacing from border
  // Use inset shadow to simulate a consistent 1px border on all sides
  box-shadow: inset 0 0 0 1px rgba(189, 147, 249, 0.4), 0 10px 28px rgba(0, 0, 0, 0.6);
  min-width: 360px;
  animation: fade-in 0.12s ease;

  .confirm-title {
    color: $purple;
    font-weight: 700;
    font-size: 14px;
    margin-bottom: 10px;
  }

  .confirm-text {
    color: $fg;
    opacity: 0.9;
    margin-bottom: 16px;
  }

  .confirm-actions {
    margin-top: 10px;

    .confirm-cancel,
    .confirm-yes {
      background-color: rgba(40, 42, 54, 0.6);
      padding: 8px 14px; // bigger click target and spacing
      border-radius: 8px;
      border: 1px solid rgba(98, 114, 164, 0.3);
      transition: all 0.15s ease;
      opacity: 0.9;

      &:hover {
        opacity: 1;
      }
    }

    .confirm-cancel {
      color: $comment;
      margin-right: 10px; // space between buttons when gap is unsupported
      &:hover {
        background-color: rgba(98, 114, 164, 0.15);
      }
    }

    .confirm-yes {
      color: $red;
      &:hover {
        background-color: rgba(255, 85, 85, 0.12);
        border-color: rgba(255, 85, 85, 0.25);
      }
    }
  }
}

// Wi-Fi menu reusing confirm-dialog look
.wifi-menu {
  min-width: 420px;
}

.wifi-titlebar {
  margin-bottom: 10px;
}

.wifi-refresh {
  color: $cyan;
  background-color: rgba(139, 233, 253, 0.08);
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(139, 233, 253, 0.25);
  transition: all 0.15s ease;
  &:hover { background-color: rgba(139, 233, 253, 0.16); }
}

.wifi-list {
  background-color: rgba(40, 42, 54, 0.6);
  border-radius: 8px;
  border: 1px solid rgba(98, 114, 164, 0.3);
  padding: 6px;
}

.wifi-item {
  padding: 8px;
  border-radius: 6px;
  transition: all 0.12s ease;
  opacity: 0.9;
  &:hover { background-color: rgba(98, 114, 164, 0.12); opacity: 1; }
}

.wifi-item.active {
  background-color: rgba(189, 147, 249, 0.12);
  box-shadow: inset 0 0 0 1px rgba(189, 147, 249, 0.25);
}

.wifi-item-icon { color: $cyan; margin-right: 8px; }
.wifi-item-ssid { color: $fg; opacity: 0.95; }
.wifi-item-lock { color: $yellow; margin: 0 8px; opacity: 0.8; }
.wifi-item-signal { color: $comment; margin-right: 8px; }
.wifi-item-action {
  color: $green;
  background-color: rgba(80, 250, 123, 0.08);
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(80, 250, 123, 0.25);
  transition: all 0.15s ease;
  &:hover { background-color: rgba(80, 250, 123, 0.16); }
}

.wifi-input-row {
  margin-top: 12px;
}

.wifi-input-title { color: $purple; font-weight: 700; margin-bottom: 6px; }
.wifi-password {
  background-color: rgba(40, 42, 54, 0.6);
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid rgba(98, 114, 164, 0.3);
  color: $fg;
  margin-bottom: 8px;
}

.wifi-actions {
  margin-top: 6px;
}

// Tooltips
tooltip {
  background-color: $bg-alt;
  color: $fg;
  border-radius: 8px;
  border: 1px solid $purple;
  padding: 6px 10px;
  font-size: 11px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

// Scrollbars not supported in eww
