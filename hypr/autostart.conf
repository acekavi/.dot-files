# Autostart Applications
# Programs to start automatically when Hyprland launches

# Environment setup for UWSM (must be first)
exec-once = systemctl --user import-environment WAYLAND_DISPLAY HYPRLAND_INSTANCE_SIGNATURE XDG_CURRENT_DESKTOP

# UWSM initialization and session management (after environment setup)
exec-once = uwsm finalize

# Essential system services (launched via UWSM for proper session management)
exec-once = uwsm app -s b bash -c "wl-paste --watch cliphist store"
exec-once = uwsm app /usr/lib/polkit-kde-authentication-agent-1

# Desktop shell and UI - handled by autostart desktop entry
# Note: quickshell is now launched via ~/.config/autostart/quickshell.desktop
exec-once = xrdb -merge ~/.config/.Xresources

# Start graphical session target for autostart applications (includes quickshell)
exec-once = systemctl --user start graphical-session.target

# Fallback: Start quickshell if not already running (with delay)
exec-once = sleep 3 && pgrep -x quickshell > /dev/null || uwsm app quickshell -p /home/reaper/.config/quickshell
# macOS-style system services
# Notification daemon (if not using DankShell notifications)
# exec-once = dunst

# Network manager applet
# exec-once = nm-applet --indicator

# Bluetooth manager
# exec-once = blueman-applet

# Audio system
# exec-once = pipewire
# exec-once = pipewire-pulse
# exec-once = wireplumber

# Background and wallpaper
# exec-once = hyprpaper
# exec-once = swaybg -i ~/.config/wallpapers/macos-default.jpg

# Screen sharing and recording
# exec-once = /usr/lib/xdg-desktop-portal-hyprland
# exec-once = /usr/lib/xdg-desktop-portal

# macOS-style dock (if using plank or similar)
# exec-once = plank

# Status bar (if not using DankShell)
# exec-once = waybar

# Idle management and screen locking
# exec-once = hypridle
# exec-once = swayidle -w

# Cloud sync services
# exec-once = dropbox
# exec-once = nextcloud

# Communication apps (delayed start)
# exec-once = sleep 5 && discord --start-minimized
# exec-once = sleep 3 && slack --startup

# Development tools (if needed)
# exec-once = code --no-sandbox

# macOS-style spotlight alternative (if not using DankShell)
# exec-once = ulauncher --hide-window

# System monitoring
# exec-once = gnome-system-monitor --hide-on-startup
